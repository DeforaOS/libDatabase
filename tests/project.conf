targets=pylint.log,shlint.log,sqlite3,sqlite3.db,tests.log
cppflags_force=-I ../include
cflags_force=`pkg-config --cflags libSystem`
cflags=-W -Wall -g -O2 -pedantic -fPIE -D_FORTIFY_SOURCE=2 -fstack-protector-all
ldflags_force=`pkg-config --libs libSystem` -L $(OBJDIR)../src -lDatabase
ldflags=-pie
dist=Makefile,database.sh,pkgconfig.sh,pylint.sh,python.sh,shlint.sh,sqlite3.sql,tests.sh

[sqlite3]
type=binary
sources=sqlite3.c
depends=$(OBJDIR)sqlite3.db

[sqlite3.db]
type=script
script=./database.sh
depends=sqlite3.sql

[pylint.log]
type=script
script=./pylint.sh
depends=pylint.sh

[shlint.log]
type=script
script=./shlint.sh
depends=shlint.sh

[tests.log]
type=script
script=./tests.sh
depends=pkgconfig.sh,python.sh,$(OBJDIR)sqlite3$(SOEXT),tests.sh
